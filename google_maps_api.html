<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Google API Map</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style type="text/css">
        /*#map-canvas1 {*/
        /*width: 770px;*/
        /*height: 481px;*/
        /*}*/
        /*#map-canvas2 {*/
        /*width: 770px;*/
        /*height: 481px;*/
        /*}*/
        #map-canvas3 {
            width: 770px;
            height: 481px;
            border: 5px;
        }
    </style>
</head>
<body class="bg-secondary">
<main class="row">
    <h1 class="display-5 text-center col-12 text-light mt-5">Best Places to Eat In Carthage, New York!</h1>

    <!-- div to hold map -->
    <!--<div id="map-canvas1"></div>-->
    <!--<div id="map-canvas2"></div>-->
    <div class="col"></div>
    <div id="map-canvas3" class="col-8 border border-dark mt-5"></div>
    <div class="col"></div>

</main>


<!-- Load the Google Maps API [DON'T FORGET TO USE A KEY] -->
<script src="https://maps.googleapis.com/maps/api/js?key="></script>

<!-- Script to show address on map -->
<script type="text/javascript">
    // (function() {
    "use strict";

    // // Set our map options
    // var mapOptions1 = {
    //     // Set the zoom level
    //     zoom: 5,
    //
    //     // This sets the center of the map at our location
    //     center: {
    //         lat:  43.9781,
    //         lng: -75.6094
    //     }
    // };
    // var mapOptions2 = {
    //     // Set the zoom level
    //     zoom: 10,
    //
    //     // This sets the center of the map at our location
    //     center: {
    //         lat:  43.9781,
    //         lng: -75.6094
    //     }
    // };
    var mapOptions3 = {
        // Set the zoom level
        zoom: 15,

        // This sets the center of the map at our location
        center: {
            lat:  43.976012,
            lng: -75.612531
        }
    };

    // Render the map
    // var map1 = new google.maps.Map(document.getElementById("map-canvas1"), mapOptions1);
    // var map2 = new google.maps.Map(document.getElementById("map-canvas2"), mapOptions2);
    var map3 = new google.maps.Map(document.getElementById("map-canvas3"), mapOptions3);


    // Create lat and long for our marker position
    var joseO = {
        name: "Jose O'Connors Pub",
        position: {
            lat: 43.973821,
            lng: -75.615349
        },
        content: "Best Burgers in Northern New York!!!!",
    };


    var bombayDuck = {
        name: "Bombay Duck Pickle Cafe",
        position: {
            lat: 43.978744,
            lng: -75.608958
        },
        content: "Best Soup and Sandwiches in Town!!!!",
    };

    var stefanos = {
        name: "Stefano's Pizzeria",
        position: {
            lat: 43.977300,
            lng: -75.610091
        },
        content: "Best Pizza in Town!!!!",
    };


    var locationArray=[];
    locationArray.push(joseO);
    locationArray.push(stefanos);
    locationArray.push(bombayDuck);
    console.log(locationArray);

    // Add the marker to our existing map

    // var iconBase = 'https://maps.google.com/mapfiles/kml/shapes/';
    // var markerArray = [];
    // locationArray.forEach(
    //     function createMarker(element, index) {
    //         var marker = new google.maps.Marker({});
    //         var infowindow = new google.maps.InfoWindow.options({});
    //         marker.position = element.position;
    //         marker.map = map3;
    //         marker.animation = google.maps.Animation.DROP;
    //         infowindow.content = element.content;
    //
    //         });
    //         return marker.addListener('click', function() {
    //             infowindow.open(map3, marker);
    //     });
    //
    // console.log(markerArray);
    // var marker1 = markerArray[0];
    // var marker2 = markerArray[1];
    // var marker3 = markerArray[2];

    var marker1 = new google.maps.Marker({
        position: locationArray[0].position,
        map: map3,
        animation: google.maps.Animation.DROP,
    });

    var marker2 = new google.maps.Marker({
        position: locationArray[1].position,
        map: map3,
        animation: google.maps.Animation.DROP
    });

    var marker3 = new google.maps.Marker({
        position: locationArray[2].position,
        map: map3,
        animation: google.maps.Animation.DROP,
    });


    // Create a new infoWindow object with content

    var infowindow1 = new google.maps.InfoWindow({
        content: locationArray[0].name + "<br>" + "<a href='http://www.joseoconnors.com/' target='_blank'>" + locationArray[0].content + "</a>"
    });

    var infowindow2 = new google.maps.InfoWindow({
        content: locationArray[1].name + "<br>" + "<a href='http://www.stefanospizzeria.com/home.html' target='_blank'>" + locationArray[1].content + "</a>"
    });

    var infowindow3 = new google.maps.InfoWindow({
        content: locationArray[2].name + "<br>" + "<a href='https://www.facebook.com/pages/Bombay-Duck-Pickle-Cafe/162895303748451' target='_blank'>" + locationArray[2].content + "</a>"
    });


    // Open the window using our map and marker



    marker1.addListener('click', function() {
        infowindow1.open(map3, marker1);

    });
    marker2.addListener('click', function() {
        infowindow2.open(map3, marker2);

    });
    marker3.addListener('click', function() {
        infowindow3.open(map3, marker3);

    });

    // })();


</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>

</html>